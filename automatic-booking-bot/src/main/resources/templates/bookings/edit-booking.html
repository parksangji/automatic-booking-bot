<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title th:text="${pageTitle ?: 'Edit Booking'}"></title>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <style>
    .booking-container { max-width: 600px; margin: 20px auto; background-color: #fff; padding:30px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.07); }
    .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;}
    .page-header h1 { margin: 0; }
  </style>
</head>
<body>
<div class="booking-container">
  <div class="page-header">
    <h1 class="page-title" th:text="${pageTitle ?: 'Edit Booking'}">Edit Booking</h1>
    <a th:href="@{/bookings}" class="btn btn-secondary" style="padding: 8px 15px;">Back to List</a>
  </div>

  <form th:action="@{/bookings/{id}/update(id=${bookingDto.id})}" th:object="${bookingDto}" method="post">
    <input type="hidden" th:name="${_csrf?.parameterName}" th:value="${_csrf?.token}" />
    <input type="hidden" th:field="*{id}" /> <div class="form-group">
    <label for="siteName">Site Name:</label>
    <input type="text" id="siteName" th:field="*{siteName}" class="form-control">
    <div th:if="${#fields.hasErrors('siteName')}" th:errors="*{siteName}" class="error-message"></div>
  </div>
    <div class="form-group">
      <label for="siteUrl">Site URL:</label>
      <input type="text" id="siteUrl" th:field="*{siteUrl}" class="form-control">
      <div th:if="${#fields.hasErrors('siteUrl')}" th:errors="*{siteUrl}" class="error-message"></div>
    </div>
    <div class="form-group">
      <label for="loginId">Login ID:</label>
      <input type="text" id="loginId" th:field="*{loginId}" class="form-control">
      <div th:if="${#fields.hasErrors('loginId')}" th:errors="*{loginId}" class="error-message"></div>
    </div>
    <div class="form-group">
      <label for="loginPassword">Password (leave blank if not changing):</label>
      <input type="password" id="loginPassword" name="loginPassword" class="form-control">
      <div th:if="${#fields.hasErrors('loginPassword')}" th:errors="*{loginPassword}" class="error-message"></div>
    </div>
    <div class="form-group">
      <label for="bookingTime">Booking Time:</label>
      <input type="datetime-local" id="bookingTime" th:field="*{bookingTime}" class="form-control">
      <div th:if="${#fields.hasErrors('bookingTime')}" th:errors="*{bookingTime}" class="error-message"></div>
    </div>
    <div class="form-group">
      <label for="active">Status:</label>
      <select id="active" th:field="*{active}" class="form-control" style="width:100%; padding:12px; border-radius: 8px; border: 1px solid #E0E0E0;">
        <option th:value="true">Active</option>
        <option th:value="false">Inactive</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Update Booking</button>
  </form>
</div>
</body>
</html>